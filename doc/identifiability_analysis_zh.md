# 关于人格可识别性的分析

本文档阐述了针对大语言模型（LLM）为两个不同Persona生成人格时其可识别性分析的设计与实现。

## 1. 分析目标

核心目标是判断一个LLM是否能为两个不同的Persona描述生成在统计上可区分的、独特的人格画像。如果画像是可区分的，这便证明了LLM并非在生成随机噪声，而是基于输入描述在创造独特的角色特质。我们将这种特性称为可识别性（Identifiability）。

本分析基于两个数据集，每个数据集分别包含对一个不同Persona进行300次人格测试的结果。

## 2. 方法论与实现

我们采用两种主要的分析思路：一种是监督式比较，另一种是更高级的无监督验证。

### 方法一：监督式比较

在这种方法中，我们预先知道每个数据点属于哪个人格，然后使用传统的统计和可视化方法进行比较。

-   **代码实现:** `asociety/personality/compare_personas.py`
-   **单变量分析 (逐个特质对比):**
    -   **可视化 (小提琴图):** 为五个特质分别生成并排的小提琴图，直观比较两个人格在每个特质上的分布形状、中位数和范围。
    -   **统计检验 (T-test):** 对每个特质进行独立样本T检验，判断其均值差异是否具有统计显著性。
-   **多变量分析 (整体画像对比):**
    -   **可视化 (PCA):** 将600个数据点投影到2D散点图上，并用不同颜色标记，以评估两个数据“云”的分离程度。
    -   **统计检验 (马氏距离):** 计算两个数据簇中心点之间的马氏距离，以一个稳健的数值来量化两个人格画像的整体分离度。

### 方法二：无监督聚类 (客观验证)

这是证明可识别性的最有力方法。我们不再预先告知算法数据的归属，而是将所有数据混合在一起，挑战一个机器学习算法，看它能否在没有任何先验知识的情况下，自主地“发现”原始的分组。

-   **代码实现:** `asociety/personality/persona_clustering.py`
-   **核心思想:** 我们使用 **K-Means聚类算法**，设定K=2，让算法基于数据的内在结构将600个混合的数据点划分成两个簇。
-   **量化验证 (调整兰德指数 - ARI):**
    -   我们使用ARI来比较算法找到的簇与真实的Persona标签。该分数衡量了两种分组的相似性，并对随机性进行了校正。
    -   ARI得分为 **1.0** 意味着完美匹配（算法完美地重现了两个人格分组），而接近 **0.0** 则意味着聚类结果与随机猜测无异。这是我们衡量可识别性的主要客观指标。
-   **可视化验证 (混合标记的PCA图):**
    -   我们生成一个2D的PCA散点图，其中每个点的 **颜色** 代表算法分配的簇，而 **形状** 代表其真实的Persona归属。
    -   如果人格是可识别的，我们期望看到形状和颜色近乎完美的对应（例如，所有的圆圈都是蓝色的，所有的叉形都是绿色的）。这为算法成功分离出不同的人格提供了强有力的视觉证据。
